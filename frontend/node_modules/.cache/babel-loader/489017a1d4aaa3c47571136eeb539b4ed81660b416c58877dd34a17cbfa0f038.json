{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import IPOList from'./components/IPOList';import MarketStats from'./components/MarketStats';import WelcomeBanner from'./components/WelcomeBanner';import SearchFilter from'./components/SearchFilter';import FeatureSection from'./components/FeatureSection';import Pagination from'./components/Pagination';import IPOTrendsChart from'./components/IPOTrendsChart';import TestimonialsSection from'./components/TestimonialsSection';import FooterSection from'./components/FooterSection';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[ipos,setIpos]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[pageObj,setPageObj]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[currentPage,setCurrentPage]=useState(1);const[showScroll,setShowScroll]=useState(false);useEffect(()=>{fetchIPOs(currentPage,searchQuery);const checkScrollTop=()=>{if(!showScroll&&window.pageYOffset>400){setShowScroll(true);}else if(showScroll&&window.pageYOffset<=400){setShowScroll(false);}};window.addEventListener('scroll',checkScrollTop);return()=>window.removeEventListener('scroll',checkScrollTop);},[currentPage,searchQuery,showScroll]);const fetchIPOs=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let query=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';setLoading(true);setError(null);try{console.log('Fetching IPOs...');const response=await fetch(\"/api/ipo/?page=\".concat(page,\"&search=\").concat(query));if(!response.ok){throw new Error(\"Failed to fetch IPOs: \".concat(response.status,\" \").concat(response.statusText));}const data=await response.json();console.log('Received data:',data);const fetchedIpos=Array.isArray(data)?data:data.results||[];const totalCount=data.count||fetchedIpos.length;setIpos(fetchedIpos);setPageObj({is_paginated:!!data.next||!!data.previous,has_next:!!data.next,has_previous:!!data.previous,next_page_number:data.next?new URL(data.next).searchParams.get('page'):null,previous_page_number:data.previous?new URL(data.previous).searchParams.get('page'):null,number:page,paginator:{num_pages:fetchedIpos.length>0?Math.ceil(totalCount/fetchedIpos.length):1}});setLoading(false);}catch(err){console.error('Error fetching IPOs:',err);setError(err.message);setLoading(false);}};const handleSearch=query=>{setSearchQuery(query);setCurrentPage(1);};const handlePageChange=newPage=>{setCurrentPage(newPage);};const scrollToTop=()=>{window.scrollTo({top:0,behavior:'smooth'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://github.com/Abhi110704/Bluestock-IPO/blob/main/Sample%20Project%20Files/logo.png?raw=true\",alt:\"Bluestock Logo\",className:\"App-logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"IPO (Initial Public Offering) Listings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:\"Track and compare Initial Public Offerings (IPOs) from emerging and established companies with ease.\"})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(WelcomeBanner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(MarketStats,{}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(SearchFilter,{onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(IPOList,{ipos:ipos,loading:loading,error:error}),pageObj&&pageObj.is_paginated&&/*#__PURE__*/_jsx(Pagination,{pageObj:pageObj,requestQuery:searchQuery,onPageChange:handlePageChange}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(IPOTrendsChart,{}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(FeatureSection,{}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(TestimonialsSection,{}),/*#__PURE__*/_jsx(\"div\",{className:\"section-divider\"})]}),/*#__PURE__*/_jsx(FooterSection,{}),/*#__PURE__*/_jsx(\"button\",{className:\"scroll-to-top \".concat(showScroll?'show':''),onClick:scrollToTop,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-up\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","IPOList","MarketStats","WelcomeBanner","SearchFilter","FeatureSection","Pagination","IPOTrendsChart","TestimonialsSection","FooterSection","jsx","_jsx","jsxs","_jsxs","App","ipos","setIpos","loading","setLoading","error","setError","pageObj","setPageObj","searchQuery","setSearchQuery","currentPage","setCurrentPage","showScroll","setShowScroll","fetchIPOs","checkScrollTop","window","pageYOffset","addEventListener","removeEventListener","page","arguments","length","undefined","query","console","log","response","fetch","concat","ok","Error","status","statusText","data","json","fetchedIpos","Array","isArray","results","totalCount","count","is_paginated","next","previous","has_next","has_previous","next_page_number","URL","searchParams","get","previous_page_number","number","paginator","num_pages","Math","ceil","err","message","handleSearch","handlePageChange","newPage","scrollToTop","scrollTo","top","behavior","className","children","src","alt","onSearch","requestQuery","onPageChange","onClick"],"sources":["E:/Bluestock-IPO-Web-App/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport IPOList from './components/IPOList';\nimport MarketStats from './components/MarketStats';\nimport WelcomeBanner from './components/WelcomeBanner';\nimport SearchFilter from './components/SearchFilter';\nimport FeatureSection from './components/FeatureSection';\nimport Pagination from './components/Pagination';\nimport IPOTrendsChart from './components/IPOTrendsChart';\nimport TestimonialsSection from './components/TestimonialsSection';\nimport FooterSection from './components/FooterSection';\nfunction App() {\n  const [ipos, setIpos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pageObj, setPageObj] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showScroll, setShowScroll] = useState(false);\n\n  useEffect(() => {\n    fetchIPOs(currentPage, searchQuery);\n\n    const checkScrollTop = () => {\n      if (!showScroll && window.pageYOffset > 400) {\n        setShowScroll(true);\n      } else if (showScroll && window.pageYOffset <= 400) {\n        setShowScroll(false);\n      }\n    };\n\n    window.addEventListener('scroll', checkScrollTop);\n    return () => window.removeEventListener('scroll', checkScrollTop);\n  }, [currentPage, searchQuery, showScroll]);\n\n  const fetchIPOs = async (page = 1, query = '') => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('Fetching IPOs...');\n      const response = await fetch(`/api/ipo/?page=${page}&search=${query}`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch IPOs: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n      console.log('Received data:', data);\n      \n      const fetchedIpos = Array.isArray(data) ? data : (data.results || []);\n      const totalCount = data.count || fetchedIpos.length;\n\n      setIpos(fetchedIpos);\n      setPageObj({\n        is_paginated: !!data.next || !!data.previous,\n        has_next: !!data.next,\n        has_previous: !!data.previous,\n        next_page_number: data.next ? new URL(data.next).searchParams.get('page') : null,\n        previous_page_number: data.previous ? new URL(data.previous).searchParams.get('page') : null,\n        number: page,\n        paginator: { num_pages: fetchedIpos.length > 0 ? Math.ceil(totalCount / fetchedIpos.length) : 1 }\n      });\n      setLoading(false);\n    } catch (err) {\n      console.error('Error fetching IPOs:', err);\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n  };\n\n  const handlePageChange = (newPage) => {\n    setCurrentPage(newPage);\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <div className=\"App\">\n      {/* <AdminDashboard /> */}\n      <header className=\"App-header\">\n        <img \n          src=\"https://github.com/Abhi110704/Bluestock-IPO/blob/main/Sample%20Project%20Files/logo.png?raw=true\" \n          alt=\"Bluestock Logo\" \n          className=\"App-logo\"\n        />\n        <h1>IPO (Initial Public Offering) Listings</h1>\n        <p className=\"description\">\n          Track and compare Initial Public Offerings (IPOs) from emerging and established companies with ease.\n        </p>\n      </header>\n      <main>\n        <WelcomeBanner />\n        <div className=\"section-divider\"></div>\n        <MarketStats />\n        <div className=\"section-divider\"></div>\n        <SearchFilter onSearch={handleSearch} />\n        <div className=\"section-divider\"></div>\n        <IPOList ipos={ipos} loading={loading} error={error} />\n        {pageObj && pageObj.is_paginated && (\n          <Pagination \n            pageObj={pageObj} \n            requestQuery={searchQuery} \n            onPageChange={handlePageChange}\n          />\n        )}\n        <div className=\"section-divider\"></div>\n        <IPOTrendsChart />\n        <div className=\"section-divider\"></div>\n        <FeatureSection />\n        <div className=\"section-divider\"></div>\n        <TestimonialsSection />\n        <div className=\"section-divider\"></div>\n      </main>\n      <FooterSection />\n\n      {/* Scroll to Top Button */}\n      <button\n        className={`scroll-to-top ${showScroll ? 'show' : ''}`}\n        onClick={scrollToTop}\n      >\n        <i className=\"fas fa-arrow-up\"></i>\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}